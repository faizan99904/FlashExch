<div title="Open Bets">

    <div class="open-bet">
        <div (click)="ShowLoginToaster()" id="unmatched_0" *ngIf="activeRoute === 'market-detail' && !token"
            class="bet-container flex-item-center max-lg:!hidden">
            <div class="head pl-2">
                <span class=" text-white font-lato-bold">
                    Live Streaming
                </span>
            </div>
            <div [ngClass]="{'rotate-180': isLiveStreaming}" class="ico flex-item-center">
                <svg xmlns="http://www.w3.org/2000/svg" transform="rotate(180)" viewBox="0 0 512 512" height="16"
                    width="16" fill="#fff">
                    <path
                        d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z">
                    </path>
                </svg>
            </div>
        </div>
        <div (click)="isLiveStreaming = !isLiveStreaming" id="unmatched_0" *ngIf="activeRoute === 'market-detail' && token"
            class="bet-container flex-item-center max-lg:!hidden">
            <div class="head pl-2">
                <span class=" text-white font-lato-bold">
                    Live Streaming
                </span>
            </div>
            <div [ngClass]="{'rotate-180': isLiveStreaming}" class="ico flex-item-center">
                <svg xmlns="http://www.w3.org/2000/svg" transform="rotate(180)" viewBox="0 0 512 512" height="16"
                    width="16" fill="#fff">
                    <path
                        d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z">
                    </path>
                </svg>
            </div>
        </div>

        <div [ngClass]="{'overflow-hidden h-0': !isLiveStreaming}" class="transition-all w-full origin-top"  *ngIf="activeRoute === 'market-detail'">
            <ng-container *ngIf="isDesktop">
                <ng-container *ngIf="isLiveStreaming && streamShowValidation; else noStream">
                    <app-video-real [eventId]="eventId" (dataEmitter)="hasStream($event)"></app-video-real>
                </ng-container>
                <ng-template #noStream>
                    <div class="BetSections max-lg:!hidden">
                        Live streaming is currently not available.
                    </div>
                </ng-template>
            </ng-container>
        </div>



        <div (click)="unmatchedBets = !unmatchedBets" id="unmatched_0" class="bet-container flex-item-center">
            <div class="head pl-2">
                <span class=" text-white font-lato-bold">Unmatched
                    Bets
                </span>
            </div>
            <div [ngClass]="{'rotate-180': unmatchedBets}" class="ico flex-item-center">
                <svg xmlns="http://www.w3.org/2000/svg" transform="rotate(180)" viewBox="0 0 512 512" height="16"
                    width="16" fill="#fff">
                    <path
                        d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z">
                    </path>
                </svg>
            </div>
        </div>
        <div [ngClass]="{'overflow-hidden h-0': unmatchedBets}" class="transition-all w-full origin-top">
            <div class="BetSections">
                You have no Unmatched Bets.
            </div>
        </div>
        <div (click)="matchedBets = !matchedBets" id="matched_1" class="bet-container flex-item-center">
            <div class="head pl-2">
                <span class="text-white font-lato-bold">
                    Matched Bets
                </span>
            </div>
            <div [ngClass]="{'rotate-180': matchedBets}" class="ico flex-item-center">
                <svg xmlns="http://www.w3.org/2000/svg" transform="rotate(180)" viewBox="0 0 512 512" height="16"
                    width="16" fill="#fff">
                    <path
                        d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z">
                    </path>
                </svg>
            </div>
        </div>
        <div [ngClass]="{'overflow-hidden h-0 !pb-0': matchedBets}"
            class="w-full origin-top transition-all max-lg:pb-[70px]">
            <div *ngIf="matchedData.length === 0" class="BetSections">
                You have no Matched Bets.</div>

            @for (bets of matchedData; track $index) {
            <div *ngIf="matchedData.length > 0" class="BetSections flex flex-col gap-1 text-sm">
                <span class=" truncate underline text-[16px] lg:text-[13px]"
                    [ngClass]="{'back':bets.type=='B','lay':bets.type=='L'}">{{bets?.selectionName}} -
                    {{bets.marketName}}</span>
                <span>{{bets.marketType}} - <span class="text-[#23ec23]">P</span>/<span
                        class="text-[#ff5a5a]">L</span>:{{bets.betPl}}</span>
                <span>Placed: {{ bets.updatedAt | date: 'M/d/yyyy, h:mm:ss a' }}</span>
            </div>
            }

        </div>
    </div>
</div>