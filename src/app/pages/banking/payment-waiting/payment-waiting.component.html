<div class="max-w-4xl mx-auto px-4 py-3">
  <div class="overflow-hidden rounded-2xl shadow-lg bg-white">

    <!-- Header -->
    <div class="p-4 text-white processing-header ">
      <div class="flex items-center gap-2">
        <span
          class="inline-block h-3 w-3 rounded-full border-2 border-white/70 border-t-transparent animate-spin"
          role="status"
          aria-hidden="true"
        ></span>
        <h5 class="m-0 font-bold uppercase">Payment is processing</h5>
      </div>
      <div class="mt-1 text-sm/6 opacity-90">
        Please keep this page open while we verify your transaction.
      </div>

      <!-- Balance chip -->
      <span
        class="mt-3 inline-flex items-center gap-2 rounded-full border border-white/50 bg-white/25 px-3 py-1 text-white"
      >
        <span class="text-xs font-semibold uppercase">Current Balance</span>
        <span class="text-base font-black">
          â‚¹{{ (userBalanceTotal?.bankBalance - userBalanceTotal?.exposure) | number:'1.0-2' }}
        </span>
      </span>
    </div>

    <!-- Body -->
    <div class="p-4">

      <!-- Summary -->
      <div class="grid grid-cols-3 gap-3 text-sm">
        <div>
          <div class="text-gray-500">Amount</div>
          <div class="font-semibold">{{ amount }}</div>
        </div>
        <div>
          <div class="text-gray-500">Method</div>
          <div class="font-semibold capitalize">{{ method }}</div>
        </div>
        <div>
          <div class="text-gray-500">Ref / UTR</div>
          <div class="flex items-center gap-2">
            <span class="font-semibold truncate" id="utrText">{{ utr }}</span>
            <button
              class="p-0 text-xs font-bold text-indigo-600 hover:text-indigo-700 focus:outline-none"
              (click)="copyMessage(utr)"
            >
              COPY
            </button>
          </div>
        </div>
      </div>

      <!-- Progress + ETA -->
      <div class="mt-3">
        <div class="mb-1 flex justify-between text-xs text-gray-500">
          <span>Verifying payment</span>
          <span><span id="pctLabel">64</span>% â€¢ ETA ~1â€“2 min</span>
        </div>
        <div class="h-2 w-full rounded-full bg-gray-200">
          <div
            id="progressBar"
            class="h-2 rounded-full bg-gradient"
            style="width: 64%;"
          ></div>
        </div>
      </div>

      <!-- Timeline -->
      <ol class="mt-4 grid gap-2 list-none text-sm">
        <li class="flex items-start gap-2">
          <span class="mt-1 inline-block h-2.5 w-2.5 flex-shrink-0 rounded-full bg-green-500"></span>
          <div>
            <div class="font-semibold">Received</div>
            <div class="text-gray-500">We have your request.</div>
          </div>
        </li>
        <li class="flex items-start gap-2">
          <span class="mt-1 inline-block h-2.5 w-2.5 flex-shrink-0 rounded-full bg-amber-500"></span>
          <div>
            <div class="font-semibold">Verifying</div>
            <div class="text-gray-500">Checking UTR and gateway status.</div>
          </div>
        </li>
        <li class="flex items-start gap-2">
          <span class="mt-1 inline-block h-2.5 w-2.5 flex-shrink-0 rounded-full bg-gray-400"></span>
          <div>
            <div class="font-semibold">Crediting</div>
            <div class="text-gray-500">Weâ€™ll add funds to your wallet.</div>
          </div>
        </li>
      </ol>

      <!-- Tips -->
      <div class="mt-3 rounded-xl border border-gray-200 bg-gray-50 p-3 text-sm text-gray-600">
        <ul class="m-0 list-disc pl-5">
          <li>Donâ€™t refresh or close this page during verification.</li>
          <li>If youâ€™ve paid already, credits will appear automatically.</li>
          <li>Need help? Keep your UTR/reference handy.</li>
        </ul>
      </div>

      <!-- Actions -->
      <div class="mt-3 flex gap-2">
        <a
          routerLink="/account/account-statement"
          class="flex-grow inline-flex bg-gradient items-center justify-center rounded-lg bg-indigo-600 px-4 py-2 font-semibold text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
        >
          View Deposit History
        </a>
        <!--
        <button class="rounded-full border border-indigo-600 px-3 py-2 font-bold text-indigo-700 hover:bg-indigo-50">
          Support
        </button>
        -->
      </div>

      <!-- Trust badges -->
      <div class="mt-2 text-center text-xs text-gray-500">
        ðŸ”’ Secure â€¢ âš¡ Instant â€¢ ðŸ•’ 24Ã—7
      </div>
    </div>
  </div>
</div>
